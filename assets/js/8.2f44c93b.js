(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{365:function(t,a,s){"use strict";s.r(a);var e=s(45),n=Object(e.a)({},(function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"smart-doc"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#smart-doc"}},[t._v("#")]),t._v(" SMART-doc")]),t._v(" "),s("p",[t._v("Documentation on how to use SMART with the Knowledge Grid")]),t._v(" "),s("h1",{attrs:{id:"about-smart"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#about-smart"}},[t._v("#")]),t._v(" About SMART")]),t._v(" "),s("p",[t._v("SMART is a way for applications to interact with data stored in a FHIR-formatted electronic health record system (EHR). SMART provides an aPI for accessing FHIR resources. Applications that use SMART can be plugged in to any properly formatted EHR. This makes it easy to make\nflexible applications, and it is especially useful for interacting with the Knowledge Grid (kgrid).")]),t._v(" "),s("h1",{attrs:{id:"files"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#files"}},[t._v("#")]),t._v(" Files")]),t._v(" "),s("p",[t._v("Every SMART application needs two things: a "),s("strong",[t._v("launch")]),t._v(" page and an "),s("strong",[t._v("index")]),t._v(" page. Both of these are html files. The launch.html page sets up your application's "),s("strong",[t._v("client ID")]),t._v(" and gives it a "),s("strong",[t._v("context")]),t._v(". A SMART application can have read/write contexts and can access different inforation based on the launch context.")]),t._v(" "),s("h1",{attrs:{id:"example-launch-page"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#example-launch-page"}},[t._v("#")]),t._v(" Example launch page")]),t._v(" "),s("p",[t._v("Here is an example of a standard launch page for a SMART app")]),t._v(" "),s("div",{staticClass:"language-html extra-class"},[s("pre",{pre:!0,attrs:{class:"language-html"}},[s("code",[s("span",{pre:!0,attrs:{class:"token doctype"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<!")]),s("span",{pre:!0,attrs:{class:"token doctype-tag"}},[t._v("DOCTYPE")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token name"}},[t._v("html")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("html")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("head")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("script")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("src")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("https://rawgithub.com/smart-on-fhir/client-js/master/dist/fhir-client.js"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),s("span",{pre:!0,attrs:{class:"token script"}}),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("script")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("script")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),s("span",{pre:!0,attrs:{class:"token script"}},[s("span",{pre:!0,attrs:{class:"token language-javascript"}},[t._v("\n      "),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("FHIR")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("oauth2"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("authorize")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"client_id"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"my_web_app"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"scope"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"patient/*.read"')]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    ")])]),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("script")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("head")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  Loading...\n"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("html")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),s("p",[s("strong",[t._v("NOTE:")]),t._v(" This example includes a script source to a raw github link for the smart-on-fhir library. A finished SMART app should "),s("strong",[t._v("not")]),t._v(" include this")]),t._v(" "),s("p",[t._v('In this example, the SMART application has a client ID of "my_web_app". The client ID is essentially the name of your application. "patient/*.read" means this application has access to patient-level FHIR resources, and can read from all those resources.')]),t._v(" "),s("p",[t._v("This application is patient-specific and will read resources from a specified patient, but can't access other resources. If you wanted to make a population-level SMART application, you would need to change the scope to")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v('"scope": "user/*.read"\n')])])]),s("p",[t._v("This would give the applicatoin access to all the resources the current user is able to use, which can include all patients in an EHR.")]),t._v(" "),s("p",[t._v("Now that the application has a context, it will launch into the index.html page where you can begin using the API")]),t._v(" "),s("h1",{attrs:{id:"index-page"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#index-page"}},[t._v("#")]),t._v(" Index page")]),t._v(" "),s("p",[t._v("The index.html page is just like any html file. To use smart, you will have to use the FHIR.ouath2() method like this:")]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("FHIR")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("oauth2"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("ready")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("smart")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" \n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("p",[t._v("the "),s("code",[t._v("FHIR.oauth2.ready()")]),t._v(' method will give you an endpoint to make SMART API calls with. The endpoint can be named anything, but in this example it is called "smart"')]),t._v(" "),s("p",[t._v("Take a look at the index-example.html file in this repository to get an idea of how SMART works.")]),t._v(" "),s("p",[t._v("FHIR formatted data is similar to JSON. To access resources you may have to jump through a few hoops to get to the actual information you want within the resource.")]),t._v(" "),s("p",[t._v("I reccomend using "),s("code",[t._v("console.log()")]),t._v(" to log some fhir resources to the console so you can see their structure and where the information is within each resource")]),t._v(" "),s("p",[t._v("To access fhir resources with SMART, use the "),s("code",[t._v("smart.api.search()")]),t._v(" method. This method accepts a type of FHIR resource to search for, and an optional "),s("code",[t._v("query")]),t._v(" paramter that can narrow the search.")]),t._v(" "),s("p",[t._v("For example:")]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[t._v("  smart"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("api"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("search")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("type"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Observation'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("p",[t._v("Will search for Observation-type resources within the context of the application. In this case it will give you an Observation resource belonging to the patient you are reading from")]),t._v(" "),s("p",[t._v("To add a query to the search:")]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[t._v("smart"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("api"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("search")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("type"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Observation"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" query"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("code"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'8480-6'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("p",[t._v("This will give you an Observation resource with code 8480-6 (code is a medical code. In this case it is the code for systolic blood pressure)")]),t._v(" "),s("h1",{attrs:{id:"writing-fhir-resources-with-smart"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#writing-fhir-resources-with-smart"}},[t._v("#")]),t._v(" Writing FHIR resources with SMART")]),t._v(" "),s("p",[t._v("Using SMART, it is possible to write and update fhir resources for patients. This section will go over writing FHIR resources using the SMART sandbox from www.smarthealthit.org")]),t._v(" "),s("p",[t._v("To write a FHIR resource, first you will need a template of the resource type. For resource formats go to https://www.hl7.org/fhir/clinical.html. Once you have a template, you will need to change a few things to make sure the resource is writen properly.")]),t._v(" "),s("p",[t._v("The first thing you should change is the patient ID. This will make sure the resource is associated with the right patient. You should "),s("strong",[t._v("not")]),t._v(" enter this manually. use "),s("code",[t._v("patient.id")]),t._v(" from the SMART API to obtain this.")]),t._v(" "),s("h1",{attrs:{id:"smart-with-kgrid"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#smart-with-kgrid"}},[t._v("#")]),t._v(" SMART with KGrid")]),t._v(" "),s("p",[t._v("Data from FHIR resources obtained from SMART can be used by some knowledge objects. For an example of an application that does this, check out the "),s("a",{attrs:{href:"https://github.com/kgrid/cardiac-advisor",target:"_blank",rel:"noopener noreferrer"}},[t._v("SMART cardiac advisor"),s("OutboundLink")],1),t._v(" application")]),t._v(" "),s("p",[t._v("To use SMART with KGrid, First obtain the data you want using the "),s("code",[t._v("smart.api.search()")]),t._v(" method. Once you have the data you want, you will have to make a call to the knowledge object you want. For information on how to use knowledge objects, see the "),s("a",{attrs:{href:"https://www.gitbook.com/book/kgrid/authoring-ii/details",target:"_blank",rel:"noopener noreferrer"}},[t._v("Manual"),s("OutboundLink")],1)])])}),[],!1,null,null,null);a.default=n.exports}}]);