<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>SMART-doc | Post PCI</title>
    <meta name="generator" content="VuePress 1.8.2">
    
    <meta name="description" content="">
    
    <link rel="preload" href="/cardiac-advisor/assets/css/0.styles.faa5dd7e.css" as="style"><link rel="preload" href="/cardiac-advisor/assets/js/app.075dd9da.js" as="script"><link rel="preload" href="/cardiac-advisor/assets/js/2.f9fef2f1.js" as="script"><link rel="preload" href="/cardiac-advisor/assets/js/8.2f44c93b.js" as="script"><link rel="prefetch" href="/cardiac-advisor/assets/js/3.575f346e.js"><link rel="prefetch" href="/cardiac-advisor/assets/js/4.c2c81955.js"><link rel="prefetch" href="/cardiac-advisor/assets/js/5.94bfd1db.js"><link rel="prefetch" href="/cardiac-advisor/assets/js/6.7fe74a9b.js"><link rel="prefetch" href="/cardiac-advisor/assets/js/7.c4a8889d.js">
    <link rel="stylesheet" href="/cardiac-advisor/assets/css/0.styles.faa5dd7e.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/cardiac-advisor/" class="home-link router-link-active"><img src="/cardiac-advisor/images/kgrid-logo.png" alt="Post PCI" class="logo"> <span class="site-name can-hide">Post PCI</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="https://kgrid.org" target="_blank" rel="noopener noreferrer" class="nav-link external">
  KGrid.org
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="/cardiac-advisor/" class="nav-link">
  Guide
</a></div><div class="nav-item"><a href="https://kgrid-objects.github.io/postpci" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Post PCI Collection
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://launch.smarthealthit.org/?auth_error=&amp;fhir_version_1=r2&amp;fhir_version_2=r3&amp;iss=&amp;launch_ehr=1&amp;launch_url=https%3A%2F%2Fdemo.kgrid.org%2Fcardiac-advisor%2Ffhir-app%2Flaunch.html&amp;patient=&amp;prov_skip_auth=1&amp;provider=&amp;pt_skip_auth=1&amp;public_key=&amp;sb=&amp;sde=&amp;sim_ehr=1&amp;token_lifetime=15&amp;user_pt=" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Online Demo
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <a href="https://github.com/kgrid-demos/cardiac-advisor" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="https://kgrid.org" target="_blank" rel="noopener noreferrer" class="nav-link external">
  KGrid.org
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="/cardiac-advisor/" class="nav-link">
  Guide
</a></div><div class="nav-item"><a href="https://kgrid-objects.github.io/postpci" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Post PCI Collection
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://launch.smarthealthit.org/?auth_error=&amp;fhir_version_1=r2&amp;fhir_version_2=r3&amp;iss=&amp;launch_ehr=1&amp;launch_url=https%3A%2F%2Fdemo.kgrid.org%2Fcardiac-advisor%2Ffhir-app%2Flaunch.html&amp;patient=&amp;prov_skip_auth=1&amp;provider=&amp;pt_skip_auth=1&amp;public_key=&amp;sb=&amp;sde=&amp;sim_ehr=1&amp;token_lifetime=15&amp;user_pt=" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Online Demo
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <a href="https://github.com/kgrid-demos/cardiac-advisor" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>SMART-doc</span> <!----></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="smart-doc"><a href="#smart-doc" class="header-anchor">#</a> SMART-doc</h1> <p>Documentation on how to use SMART with the Knowledge Grid</p> <h1 id="about-smart"><a href="#about-smart" class="header-anchor">#</a> About SMART</h1> <p>SMART is a way for applications to interact with data stored in a FHIR-formatted electronic health record system (EHR). SMART provides an aPI for accessing FHIR resources. Applications that use SMART can be plugged in to any properly formatted EHR. This makes it easy to make
flexible applications, and it is especially useful for interacting with the Knowledge Grid (kgrid).</p> <h1 id="files"><a href="#files" class="header-anchor">#</a> Files</h1> <p>Every SMART application needs two things: a <strong>launch</strong> page and an <strong>index</strong> page. Both of these are html files. The launch.html page sets up your application's <strong>client ID</strong> and gives it a <strong>context</strong>. A SMART application can have read/write contexts and can access different inforation based on the launch context.</p> <h1 id="example-launch-page"><a href="#example-launch-page" class="header-anchor">#</a> Example launch page</h1> <p>Here is an example of a standard launch page for a SMART app</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>https://rawgithub.com/smart-on-fhir/client-js/master/dist/fhir-client.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
      <span class="token constant">FHIR</span><span class="token punctuation">.</span>oauth2<span class="token punctuation">.</span><span class="token function">authorize</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        <span class="token string">&quot;client_id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;my_web_app&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;scope&quot;</span><span class="token operator">:</span>  <span class="token string">&quot;patient/*.read&quot;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
  Loading...
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p><strong>NOTE:</strong> This example includes a script source to a raw github link for the smart-on-fhir library. A finished SMART app should <strong>not</strong> include this</p> <p>In this example, the SMART application has a client ID of &quot;my_web_app&quot;. The client ID is essentially the name of your application. &quot;patient/*.read&quot; means this application has access to patient-level FHIR resources, and can read from all those resources.</p> <p>This application is patient-specific and will read resources from a specified patient, but can't access other resources. If you wanted to make a population-level SMART application, you would need to change the scope to</p> <div class="language- extra-class"><pre class="language-text"><code>&quot;scope&quot;: &quot;user/*.read&quot;
</code></pre></div><p>This would give the applicatoin access to all the resources the current user is able to use, which can include all patients in an EHR.</p> <p>Now that the application has a context, it will launch into the index.html page where you can begin using the API</p> <h1 id="index-page"><a href="#index-page" class="header-anchor">#</a> Index page</h1> <p>The index.html page is just like any html file. To use smart, you will have to use the FHIR.ouath2() method like this:</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token constant">FHIR</span><span class="token punctuation">.</span>oauth2<span class="token punctuation">.</span><span class="token function">ready</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">smart</span><span class="token punctuation">)</span> 
<span class="token punctuation">{</span>
<span class="token punctuation">}</span>
</code></pre></div><p>the <code>FHIR.oauth2.ready()</code> method will give you an endpoint to make SMART API calls with. The endpoint can be named anything, but in this example it is called &quot;smart&quot;</p> <p>Take a look at the index-example.html file in this repository to get an idea of how SMART works.</p> <p>FHIR formatted data is similar to JSON. To access resources you may have to jump through a few hoops to get to the actual information you want within the resource.</p> <p>I reccomend using <code>console.log()</code> to log some fhir resources to the console so you can see their structure and where the information is within each resource</p> <p>To access fhir resources with SMART, use the <code>smart.api.search()</code> method. This method accepts a type of FHIR resource to search for, and an optional <code>query</code> paramter that can narrow the search.</p> <p>For example:</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>  smart<span class="token punctuation">.</span>api<span class="token punctuation">.</span><span class="token function">search</span><span class="token punctuation">(</span><span class="token punctuation">{</span>type<span class="token operator">:</span> <span class="token string">'Observation'</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p>Will search for Observation-type resources within the context of the application. In this case it will give you an Observation resource belonging to the patient you are reading from</p> <p>To add a query to the search:</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>smart<span class="token punctuation">.</span>api<span class="token punctuation">.</span><span class="token function">search</span><span class="token punctuation">(</span><span class="token punctuation">{</span>type<span class="token operator">:</span> <span class="token string">&quot;Observation&quot;</span><span class="token punctuation">,</span> query<span class="token operator">:</span> <span class="token punctuation">{</span>code<span class="token operator">:</span> <span class="token string">'8480-6'</span><span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p>This will give you an Observation resource with code 8480-6 (code is a medical code. In this case it is the code for systolic blood pressure)</p> <h1 id="writing-fhir-resources-with-smart"><a href="#writing-fhir-resources-with-smart" class="header-anchor">#</a> Writing FHIR resources with SMART</h1> <p>Using SMART, it is possible to write and update fhir resources for patients. This section will go over writing FHIR resources using the SMART sandbox from www.smarthealthit.org</p> <p>To write a FHIR resource, first you will need a template of the resource type. For resource formats go to https://www.hl7.org/fhir/clinical.html. Once you have a template, you will need to change a few things to make sure the resource is writen properly.</p> <p>The first thing you should change is the patient ID. This will make sure the resource is associated with the right patient. You should <strong>not</strong> enter this manually. use <code>patient.id</code> from the SMART API to obtain this.</p> <h1 id="smart-with-kgrid"><a href="#smart-with-kgrid" class="header-anchor">#</a> SMART with KGrid</h1> <p>Data from FHIR resources obtained from SMART can be used by some knowledge objects. For an example of an application that does this, check out the <a href="https://github.com/kgrid/cardiac-advisor" target="_blank" rel="noopener noreferrer">SMART cardiac advisor<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> application</p> <p>To use SMART with KGrid, First obtain the data you want using the <code>smart.api.search()</code> method. Once you have the data you want, you will have to make a call to the knowledge object you want. For information on how to use knowledge objects, see the <a href="https://www.gitbook.com/book/kgrid/authoring-ii/details" target="_blank" rel="noopener noreferrer">Manual<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">2/18/2019, 8:53:42 PM</span></div></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/cardiac-advisor/assets/js/app.075dd9da.js" defer></script><script src="/cardiac-advisor/assets/js/2.f9fef2f1.js" defer></script><script src="/cardiac-advisor/assets/js/8.2f44c93b.js" defer></script>
  </body>
</html>
